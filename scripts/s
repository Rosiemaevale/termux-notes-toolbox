#!/usr/bin/env bash
TERM="$1"
DIR="${2:-$HOME/storage/shared}"

if [ -z "$TERM" ]; then
  echo 'usage: s "search term" [folder]'
  exit 1
fi

if [ ! -d "$DIR" ]; then
  echo "folder not found: $DIR"
  exit 1
fi

rg --smart-case -n "$TERM" "$DIR" 2>/dev/null | head -n 80

